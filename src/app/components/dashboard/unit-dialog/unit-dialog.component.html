@let organs = organs$ | async;
<h2 mat-dialog-title>Create an Unit</h2>
<mat-dialog-content [formGroup]="unitForm">
    <mat-form-field appearance="outline" class="input-container">
        <input matInput formControlName="name" class="inputfield" placeholder="Type a name for the unit" />
        @if(unitForm.get('name')?.hasError('required')) {
        <mat-error>
            Name is required
        </mat-error>
        } @else if(unitForm.get('name')?.hasError('minLength')) {
        <mat-error>
            Unit name must have at least 1 character.
        </mat-error>
        }
    </mat-form-field>

    <mat-form-field appearance="outline" class="input-container">
        <input type="text" placeholder="Choose an organisation" formControlName="organDto" aria-label="organisation"
            matInput [matAutocomplete]="auto">
        <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayOrganName">
            @for(organ of organs; track organ.id) {
            <mat-option [value]="organ">{{organ.name}}</mat-option>
            }
        </mat-autocomplete>
        @if(unitForm.controls['organDto'].hasError('required')) {
        <mat-error>
            Organisation is <strong>required</strong>
        </mat-error>
        }
    </mat-form-field>

    <mat-form-field appearance="outline" class="input-container">
        <textarea matInput formControlName="description" class="inputfield" placeholder="Describe the unit"></textarea>
        @if(unitForm.get('description')?.hasError('required')) {
        <mat-error>
            Unit description is required.
        </mat-error>
        } @else if(unitForm.get('description')?.hasError('minLength')) {
        <mat-error>
            Unit description must have at least 10 character.
        </mat-error>
        }
    </mat-form-field>
</mat-dialog-content>
<mat-dialog-actions align="end">
    <button matButton="elevated" (click)="onCancel()">Cancel</button>
    <button mat-flat-button color="primary" (click)="save()">Save</button>
</mat-dialog-actions>